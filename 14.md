# ğŸ“˜ Day 14 - é«˜é˜¶å‡½æ•° (Higher Order Functions)

## ä»€ä¹ˆæ˜¯é«˜é˜¶å‡½æ•°ï¼Ÿ

åœ¨Pythonä¸­ï¼Œå‡½æ•°è¢«è§†ä¸º"ä¸€ç­‰å…¬æ°‘"ï¼ˆFirst-Class Citizensï¼‰ï¼Œè¿™æ„å‘³ç€ï¼š
- âœ… å‡½æ•°å¯ä»¥ä½œä¸º**å‚æ•°**ä¼ é€’ç»™å¦ä¸€ä¸ªå‡½æ•°
- âœ… å‡½æ•°å¯ä»¥ä½œä¸ºå¦ä¸€ä¸ªå‡½æ•°çš„**è¿”å›å€¼**
- âœ… å‡½æ•°å¯ä»¥è¢«**ä¿®æ”¹**
- âœ… å‡½æ•°å¯ä»¥è¢«**èµ‹å€¼ç»™å˜é‡**

---

## 1. å‡½æ•°ä½œä¸ºå‚æ•°

```python
def sum_numbers(nums):  # æ™®é€šå‡½æ•°
    return sum(nums)

def higher_order_function(f, lst):  # é«˜é˜¶å‡½æ•°ï¼šæ¥æ”¶å‡½æ•°ä½œä¸ºå‚æ•°
    summation = f(lst)
    return summation

result = higher_order_function(sum_numbers, [1, 2, 3, 4, 5])
print(result)  # 15
```

## 2. å‡½æ•°ä½œä¸ºè¿”å›å€¼

```python
def square(x):
    return x ** 2

def cube(x):
    return x ** 3

def absolute(x):
    if x >= 0:
        return x
    else:
        return -x

def higher_order_function(type):  # æ ¹æ®å‚æ•°è¿”å›ä¸åŒçš„å‡½æ•°
    if type == 'square':
        return square
    elif type == 'cube':
        return cube
    elif type == 'absolute':
        return absolute

result = higher_order_function('square')
print(result(3))  # 9

result = higher_order_function('cube')
print(result(3))  # 27

result = higher_order_function('absolute')
print(result(-3))  # 3
```

---

## 3. é—­åŒ… (Closure)

> **é—­åŒ…**ï¼šå†…éƒ¨å‡½æ•°å¯ä»¥è®¿é—®å¤–éƒ¨å‡½æ•°ä½œç”¨åŸŸä¸­çš„å˜é‡ï¼Œå³ä½¿å¤–éƒ¨å‡½æ•°å·²ç»è¿”å›ã€‚

```python
def add_ten():
    ten = 10  # å¤–éƒ¨å‡½æ•°çš„å˜é‡
    
    def add(num):
        return num + ten  # å†…éƒ¨å‡½æ•°è®¿é—®å¤–éƒ¨å˜é‡
    
    return add  # è¿”å›å†…éƒ¨å‡½æ•°

closure_result = add_ten()
print(closure_result(5))   # 15
print(closure_result(10))  # 20
```

---

## 4. è£…é¥°å™¨ (Decorator) â­é‡ç‚¹ï¼

è£…é¥°å™¨æ˜¯Pythonä¸­çš„è®¾è®¡æ¨¡å¼ï¼Œå…è®¸åœ¨**ä¸ä¿®æ”¹åŸå‡½æ•°ç»“æ„**çš„æƒ…å†µä¸‹æ·»åŠ æ–°åŠŸèƒ½ã€‚

### åˆ›å»ºè£…é¥°å™¨

```python
# æ–¹æ³•1ï¼šæ‰‹åŠ¨è°ƒç”¨
def uppercase_decorator(function):
    def wrapper():
        func = function()
        make_uppercase = func.upper()
        return make_uppercase
    return wrapper

def greeting():
    return 'Welcome to Python'

g = uppercase_decorator(greeting)
print(g())  # WELCOME TO PYTHON

# æ–¹æ³•2ï¼šä½¿ç”¨ @ è¯­æ³•ç³–ï¼ˆæ¨èï¼ï¼‰
@uppercase_decorator
def greeting():
    return 'Welcome to Python'

print(greeting())  # WELCOME TO PYTHON
```

### å¤šä¸ªè£…é¥°å™¨å åŠ 

```python
def uppercase_decorator(function):
    def wrapper():
        func = function()
        return func.upper()
    return wrapper

def split_string_decorator(function):
    def wrapper():
        func = function()
        return func.split()
    return wrapper

@split_string_decorator
@uppercase_decorator  # è£…é¥°å™¨é¡ºåºå¾ˆé‡è¦ï¼ä»ä¸‹å¾€ä¸Šæ‰§è¡Œ
def greeting():
    return 'Welcome to Python'

print(greeting())  # ['WELCOME', 'TO', 'PYTHON']
```

### å¸¦å‚æ•°çš„è£…é¥°å™¨

```python
def decorator_with_parameters(function):
    def wrapper_accepting_parameters(para1, para2, para3):
        function(para1, para2, para3)
        print(f"I live in {para3}")
    return wrapper_accepting_parameters

@decorator_with_parameters
def print_full_name(first_name, last_name, country):
    print(f"I am {first_name} {last_name}. I love to teach.")

print_full_name("Asabeneh", "Yetayeh", "Finland")
# I am Asabeneh Yetayeh. I love to teach.
# I live in Finland
```

---

## 5. å†…ç½®é«˜é˜¶å‡½æ•° â­â­å¿…é¡»æŒæ¡ï¼

### ğŸ“Œ map() - æ˜ å°„

å¯¹å¯è¿­ä»£å¯¹è±¡çš„æ¯ä¸ªå…ƒç´ åº”ç”¨å‡½æ•°ï¼š

```python
# è¯­æ³•: map(function, iterable)

numbers = [1, 2, 3, 4, 5]

# æ–¹æ³•1ï¼šä½¿ç”¨æ™®é€šå‡½æ•°
def square(x):
    return x ** 2

numbers_squared = map(square, numbers)
print(list(numbers_squared))  # [1, 4, 9, 16, 25]

# æ–¹æ³•2ï¼šä½¿ç”¨ lambda è¡¨è¾¾å¼ï¼ˆæ›´ç®€æ´ï¼ï¼‰
numbers_squared = map(lambda x: x ** 2, numbers)
print(list(numbers_squared))  # [1, 4, 9, 16, 25]

# å®ç”¨ä¾‹å­ï¼šå­—ç¬¦ä¸²è½¬æ•´æ•°
numbers_str = ['1', '2', '3', '4', '5']
numbers_int = map(int, numbers_str)
print(list(numbers_int))  # [1, 2, 3, 4, 5]

# å®ç”¨ä¾‹å­ï¼šåå­—è½¬å¤§å†™
names = ['Asabeneh', 'Lidiya', 'Ermias', 'Abraham']
names_upper = map(lambda name: name.upper(), names)
print(list(names_upper))  # ['ASABENEH', 'LIDIYA', 'ERMIAS', 'ABRAHAM']
```

### ğŸ“Œ filter() - è¿‡æ»¤

è¿‡æ»¤å‡ºæ»¡è¶³æ¡ä»¶çš„å…ƒç´ ï¼š

```python
# è¯­æ³•: filter(function, iterable)

numbers = [1, 2, 3, 4, 5]

# è¿‡æ»¤å¶æ•°
def is_even(num):
    return num % 2 == 0

even_numbers = filter(is_even, numbers)
print(list(even_numbers))  # [2, 4]

# ä½¿ç”¨ lambda
odd_numbers = filter(lambda x: x % 2 != 0, numbers)
print(list(odd_numbers))  # [1, 3, 5]

# è¿‡æ»¤é•¿åå­—
names = ['Asabeneh', 'Lidiya', 'Ermias', 'Abraham']
long_names = filter(lambda name: len(name) > 7, names)
print(list(long_names))  # ['Asabeneh']
```

### ğŸ“Œ reduce() - å½’çº¦

å°†åˆ—è¡¨å½’çº¦ä¸ºå•ä¸ªå€¼ï¼ˆéœ€è¦ä» `functools` å¯¼å…¥ï¼‰ï¼š

```python
from functools import reduce

# è¯­æ³•: reduce(function, iterable)

numbers = [1, 2, 3, 4, 5]

# æ±‚å’Œ
def add_two(x, y):
    return x + y

total = reduce(add_two, numbers)
print(total)  # 15

# ä½¿ç”¨ lambda
total = reduce(lambda x, y: x + y, numbers)
print(total)  # 15

# æ±‚æœ€å¤§å€¼
maximum = reduce(lambda x, y: x if x > y else y, numbers)
print(maximum)  # 5
```

---

## 6. Lambda è¡¨è¾¾å¼ï¼ˆåŒ¿åå‡½æ•°ï¼‰

```python
# è¯­æ³•: lambda å‚æ•°: è¡¨è¾¾å¼

# æ™®é€šå‡½æ•°
def add(a, b):
    return a + b

# ç­‰ä»·çš„ lambda
add = lambda a, b: a + b
print(add(2, 3))  # 5

# lambda æœ€å¸¸ç”¨äº mapã€filterã€reduce
squares = list(map(lambda x: x**2, [1, 2, 3, 4, 5]))
print(squares)  # [1, 4, 9, 16, 25]
```

---

## ğŸ“Š ä¸‰å¤§å‡½æ•°å¯¹æ¯”

| å‡½æ•° | ä½œç”¨ | è¿”å›å€¼ |
|------|------|--------|
| `map()` | å¯¹æ¯ä¸ªå…ƒç´ åº”ç”¨å‡½æ•° | æ–°çš„å¯è¿­ä»£å¯¹è±¡ |
| `filter()` | è¿‡æ»¤æ»¡è¶³æ¡ä»¶çš„å…ƒç´  | æ–°çš„å¯è¿­ä»£å¯¹è±¡ |
| `reduce()` | ç´¯ç§¯å½’çº¦ä¸ºå•å€¼ | å•ä¸ªå€¼ |

---

## ğŸ’» ç»ƒä¹ é¢˜

### Level 1
1. è§£é‡Š mapã€filterã€reduce çš„åŒºåˆ«
2. è§£é‡Šé«˜é˜¶å‡½æ•°ã€é—­åŒ…ã€è£…é¥°å™¨çš„åŒºåˆ«
3. ç”¨ for å¾ªç¯æ‰“å°æ¯ä¸ªå›½å®¶/åå­—/æ•°å­—

### Level 2
```python
countries = ['Estonia', 'Finland', 'Sweden', 'Denmark', 'Norway', 'Iceland']
names = ['Asabeneh', 'Lidiya', 'Ermias', 'Abraham']
numbers = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]
```
1. ç”¨ map å°†æ‰€æœ‰å›½å®¶åè½¬ä¸ºå¤§å†™
2. ç”¨ map å°†æ‰€æœ‰æ•°å­—å¹³æ–¹
3. ç”¨ filter è¿‡æ»¤å‡ºåŒ…å« 'land' çš„å›½å®¶
4. ç”¨ filter è¿‡æ»¤å‡ºåå­—é•¿åº¦ä¸º6çš„å›½å®¶
5. ç”¨ reduce æ±‚ numbers çš„æ€»å’Œ

### Level 3
1. é“¾å¼è°ƒç”¨ï¼š`map().filter().reduce()`
2. ç¼–å†™è£…é¥°å™¨è®¡ç®—å‡½æ•°æ‰§è¡Œæ—¶é—´

---

## ğŸ”‘ æ ¸å¿ƒæ¦‚å¿µæ€»ç»“

1. **é«˜é˜¶å‡½æ•°**ï¼šæ¥æ”¶å‡½æ•°ä½œä¸ºå‚æ•°æˆ–è¿”å›å‡½æ•°çš„å‡½æ•°
2. **é—­åŒ…**ï¼šå†…éƒ¨å‡½æ•°è®°ä½å¤–éƒ¨å‡½æ•°çš„å˜é‡
3. **è£…é¥°å™¨**ï¼šç”¨ `@` è¯­æ³•åœ¨ä¸ä¿®æ”¹åŸå‡½æ•°çš„æƒ…å†µä¸‹å¢å¼ºåŠŸèƒ½
4. **map/filter/reduce**ï¼šå‡½æ•°å¼ç¼–ç¨‹ä¸‰å¤§åˆ©å™¨
5. **lambda**ï¼šç®€æ´çš„åŒ¿åå‡½æ•°ï¼Œå¸¸ä¸é«˜é˜¶å‡½æ•°é…åˆä½¿ç”¨

