# 📘 Day 15 - Python 错误类型 (Python Error Types)

---

## 概述

当代码运行失败时，Python 解释器会显示错误信息，告诉你：
1. **错误发生的位置**
2. **错误的类型**
3. **有时还会给出修复建议**

> 理解错误类型能让你快速调试，成为更优秀的程序员！

---

## 1. SyntaxError（语法错误）

**最常见的错误**——代码不符合 Python 语法规则。

```python
# ❌ 错误示例
>>> print 'hello world'
SyntaxError: Missing parentheses in call to 'print'. Did you mean print('hello world')?

# ✅ 修复
>>> print('hello world')
hello world
```

**常见原因**：
- 忘记括号、引号、冒号
- 缩进错误
- 拼写错误关键字

---

## 2. NameError（名称错误）

使用了**未定义的变量名**。

```python
# ❌ 错误示例
>>> print(age)
NameError: name 'age' is not defined

# ✅ 修复：先定义变量
>>> age = 25
>>> print(age)
25
```

**常见原因**：
- 变量名拼写错误
- 变量未定义就使用
- 作用域问题

---

## 3. IndexError（索引错误）

访问列表时**索引超出范围**。

```python
# ❌ 错误示例
>>> numbers = [1, 2, 3, 4, 5]
>>> numbers[5]  # 索引只有0-4！
IndexError: list index out of range

# ✅ 修复：使用有效索引
>>> numbers[4]
5
>>> numbers[-1]  # 最后一个元素
5
```

**记住**：长度为 n 的列表，有效索引是 `0` 到 `n-1`

---

## 4. ModuleNotFoundError（模块未找到错误）

导入了**不存在的模块**。

```python
# ❌ 错误示例
>>> import maths  # 多了个 's'
ModuleNotFoundError: No module named 'maths'

# ✅ 修复：正确的模块名
>>> import math
```

**常见原因**：
- 模块名拼写错误
- 模块未安装（需要 `pip install`）

---

## 5. AttributeError（属性错误）

访问对象**不存在的属性或方法**。

```python
# ❌ 错误示例
>>> import math
>>> math.PI  # 大写错误
AttributeError: module 'math' has no attribute 'PI'

# ✅ 修复：使用正确的属性名
>>> math.pi
3.141592653589793
```

**提示**：Python 区分大小写！`PI` ≠ `pi`

---

## 6. KeyError（键错误）

访问字典中**不存在的键**。

```python
# ❌ 错误示例
>>> user = {'name': 'Asab', 'age': 250, 'country': 'Finland'}
>>> user['county']  # 拼写错误！
KeyError: 'county'

# ✅ 修复：使用正确的键名
>>> user['country']
'Finland'

# ✅ 更安全的方式：使用 get() 方法
>>> user.get('county', '键不存在')
'键不存在'
```

---

## 7. TypeError（类型错误）

对**不兼容的数据类型**进行操作。

```python
# ❌ 错误示例
>>> 4 + '3'  # 数字 + 字符串
TypeError: unsupported operand type(s) for +: 'int' and 'str'

# ✅ 修复方案1：转换为数字
>>> 4 + int('3')
7
>>> 4 + float('3')
7.0

# ✅ 修复方案2：转换为字符串（拼接）
>>> str(4) + '3'
'43'
```

---

## 8. ImportError（导入错误）

从模块导入**不存在的函数或类**。

```python
# ❌ 错误示例
>>> from math import power  # 函数名错误
ImportError: cannot import name 'power' from 'math'

# ✅ 修复：使用正确的函数名 pow
>>> from math import pow
>>> pow(2, 3)
8.0
```

---

## 9. ValueError（值错误）

函数接收了**类型正确但值不合适**的参数。

```python
# ❌ 错误示例
>>> int('12a')  # '12a' 不是有效数字
ValueError: invalid literal for int() with base 10: '12a'

# ✅ 正确用法
>>> int('12')
12
>>> int('12', 16)  # 十六进制
18
```

---

## 10. ZeroDivisionError（除零错误）

尝试**除以零**。

```python
# ❌ 错误示例
>>> 1 / 0
ZeroDivisionError: division by zero

# ✅ 预防：先检查除数
def safe_divide(a, b):
    if b == 0:
        return "不能除以零！"
    return a / b

safe_divide(10, 0)   # '不能除以零！'
safe_divide(10, 2)   # 5.0
```

---

## 📊 错误类型速查表

| 错误类型 | 描述 | 常见原因 |
|---------|------|---------|
| `SyntaxError` | 语法错误 | 括号、冒号、缩进问题 |
| `NameError` | 名称未定义 | 变量未声明或拼写错误 |
| `IndexError` | 索引越界 | 列表索引超出范围 |
| `ModuleNotFoundError` | 模块不存在 | 模块名错误或未安装 |
| `AttributeError` | 属性不存在 | 方法/属性名拼写错误 |
| `KeyError` | 键不存在 | 字典键名错误 |
| `TypeError` | 类型错误 | 不兼容类型的操作 |
| `ImportError` | 导入错误 | 导入不存在的对象 |
| `ValueError` | 值错误 | 值不符合要求 |
| `ZeroDivisionError` | 除零错误 | 除数为零 |

---

## 💻 练习

打开 Python 交互式 shell，亲自尝试本节中的所有示例！

---

🌕 **读懂错误信息是程序员的必备技能。错误不可怕，可怕的是看不懂错误信息！**

